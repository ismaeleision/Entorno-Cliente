<!DOCTYPE html>
<html>

<head>
  <title>JSON Aviones</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>

<body>
  <div class="container-fluid">
    <div class="row">
      <div class="col-2">
        <button type="button" class="btn-primary" onclick="mostrarArray(arrayVuelos)">Mostrar Vuelos</button>
      </div>
      <div class="col-2">
        <button type="button" class="btn-primary" onclick="elegirDestino(arrayVuelos)">Elegir Destino</button>
      </div>
      <div class="col-2">
        <button type="button" class="btn-primary" onclick="elegirLlegada(arrayVuelos)">Elegir Llegada</button>
      </div>
    </div>

    <div id="salidaDatos"></div>
  </div>
</body>

<!-- El código se ejecuta cuando ya tenemos disponible la <div id=salidadeDatos 
 Otra alternativa es disparar el código con botones -->

<script type="text/javascript">
  var arrayVuelos = [
    {
      "origen": "Palma",
      "destino": "Oslo",
      "url": "http://www.ibserveis.com/vuelo1.html",
      "salida": "11",
      "llegada": "12"
    },
    {
      "origen": "Lugo",
      "destino": "Madrid",
      "url": "http://www.ibserveis.com/vuelo2.html",
      "salida": "11",
      "llegada": "11"
    },
    {
      "origen": "Barna",
      "destino": "Paris",
      "url": "http://www.ibserveis.com/vuelo3.html",
      "salida": "15",
      "llegada": "18"
    },
    {
      "origen": "Palma",
      "destino": "Madrid",
      "url": "http://www.ibserveis.com/vuelo4.html",
      "salida": "16",
      "llegada": "19"
    },
    {
      "origen": "Palma",
      "destino": "Paris",
      "url": "http://www.ibserveis.com/vuelo5.html",
      "salida": "19",
      "llegada": "22"
    },
    {
      "origen": "Palma",
      "destino": "Moscu",
      "url": "http://www.ibserveis.com/vuelo6.html",
      "salida": "19",
      "llegada": "21"
    },
    {
      "origen": "Moscu",
      "destino": "Paris",
      "url": "http://www.ibserveis.com/vuelo7.html",
      "salida": "18",
      "llegada": "22"
    },
    {
      "origen": "Pekin",
      "destino": "Paris",
      "url": "http://www.ibserveis.com/vuelo8.html",
      "salida": "10",
      "llegada": "22"
    },
    {
      "origen": "Palma",
      "destino": "Nueva York",
      "url": "http://www.ibserveis.com/vuelo9.html",
      "salida": "13",
      "llegada": "22"
    },
    {
      "origen": "Nueva York",
      "destino": "Paris",
      "url": "http://www.ibserveis.com/vuelo10.html",
      "salida": "19",
      "llegada": "22"
    }
  ];


  function mostrarArray(datos) {
    var texto = "";
    for (let i = 0; i < datos.length; i++) {
      texto += `<p> origen: ${datos[i].origen} <a href= ${datos[i].url}> 
 destino: ${datos[i].destino}</a> ${datos[i].salida} ${datos[i].llegada}</p><br>`;
    }
    document.getElementById("salidaDatos").innerHTML = texto;
  }

  //Te pedira un destino y te muestra los vuelos que van a ese destino
  function elegirDestino(datos) {
    var texto = "";
    let ciudad = prompt("Introduce el destino al que quieras viajar");
    for (let i = 0; i < datos.length; i++) {
      if (datos[i].destino == ciudad) {
        texto += `<p> origen: ${datos[i].origen} <a href= ${datos[i].url}> 
 destino: ${datos[i].destino}</a> ${datos[i].salida} ${datos[i].llegada}</p><br>`;
      }
    }
    document.getElementById("salidaDatos").innerHTML = texto;
  }

  //te pedira una hora y mostrara los vuelos que todavia no han llegado
  function elegirLlegada(datos) {
    var texto = "";
    let hora = prompt("Introduce la hora que quieras");
    for (let i = 0; i < datos.length; i++) {
      if (datos[i].llegada > hora) {
        texto += `<p> origen: ${datos[i].origen} <a href= ${datos[i].url}> 
 destino: ${datos[i].destino}</a> ${datos[i].salida} ${datos[i].llegada}</p><br>`;
      }
    }
    document.getElementById("salidaDatos").innerHTML = texto;
  }
</script>

</html>