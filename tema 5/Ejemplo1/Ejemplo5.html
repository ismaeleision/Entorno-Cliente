<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <script src="Ejemplo5.js"></script>
</head>

<body>
  <div class="container">
    <h2>Rellena Tus Datos Personales</h2>
    <form>
      <div>
        <label for="nombre">Nombre:*</label></br>
        <input type="text" id="nombre">
      </div>
      <div>
        <label for="apellidos">Apellidos:*</label><br>
        <input type="text" id="apellidos">
      </div>
      <div>
        <label for="contrasena">Contraseña:*</label><br>
        <input type="password" id="contrasena">
      </div>
      <div>
        <label for="repite_contrasena"> Confirmar Contraseña:*</label><br>
        <input type="password" id="repite_contrasena">
      </div>
      <div>
        <label for="email">Email:*</label><br>
        <input type="email" id="email">
      </div>
      <div>
        <label for="dni">DNI:*</label><br>
        <input type="text" id="dni">
      </div>
      <div>
        <label for="telefono">Telefono:</label><br>
        <input type="number">
      </div>
      <div class="align-items-center">
        <label for="sexo">Sexo:</label>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="sexo" id="hombre">
          <label class="form-check-label" for="hombre">
            Hombre
          </label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="sexo" id="mujer">
          <label class="form-check-label" for="mujer">
            Mujer
          </label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="sexo" id="otro">
          <label class="form-check-label" for="otro">
            Helicoptero Apache de Combate
          </label>
        </div>
      </div>
      <div class="m-2">
        <p>Tarjeta:*</p>
        <div class="form-floating">
          <select class="form-select" id="tarjeta">
            <option selected>-Waiting an available credit card company-</option>
            <option value="visa">Visa</option>
            <option value="master">Mastercard</option>
          </select>
          <label for="tarjeta">Selecciona la tarjeta que poseas</label>
        </div>
      </div>
      <div class="form-check m-5">
        <input class="form-check-input" type="checkbox" id="condiciones">
        <label for="condiciones">Acepto las condiciones de uso de esta web</label>
      </div>
      <input type="submit" class="btn btn-success" value="Enviar" id="enviar">
    </form>
  </div>

  <script type="text/javascript">
    window.onload = function () {
      //Llama a la funcion de comprobar la contraseña con la repetir contraseña
      let repiteContraseña = document
        .getElementById('repite_contrasena')
        .addEventListener('keyup', comprobarContrasena, false);

      //Cuando se le pierde el foco al email comprueba si tiene @ y un punto
      let email = document
        .getElementById('email')
        .addEventListener('blur', comprobarEmail, false);

      let enviar = document
        .getElementById('enviar')
        .addEventListener('click', comprobarCampos, false);
    };

    /**
     * Tiene que coger lo escrito en cada input y salir en rojo hasta que no coincida
     */
    function comprobarContrasena() {
      //se coge la informacion de cada input
      let con = document.getElementById('contrasena').value;
      let recon = document.getElementById('repite_contrasena').value;
      console.log(recon);
      for (let i = 0; i < con.length; i++) {
        if (con[i] != recon[i]) {
          console.log('Hay un error');
          document.getElementById('repite_contrasena').style.background = "red";
        } else {
          document.getElementById("repite_contrasena").style.background = "white";
        }
      }
    }

    /**
     * Al salir del foco va a comprobar si tiene un @ y un punto
     * si no salta en rojo
     */
    function comprobarEmail() { }

    /**
     * Tiene que comprobar que ningun campo esta vacio y todos son validos
     * en caso afirmativo sale un emergente
     * en caso negativo te pone el foco en el/los campo/s que requieran correccion
     */
    function comprobarCampos() { }

  </script>

</body>

</html>